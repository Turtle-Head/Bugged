var GameObjects=function(b,c,a){this.x=b;this.y=c;this.imageInfo=a};var badGuys={imageInfo:"images/enemy-bug.png",width:101,height:171};var goodGuy={imageInfo:"images/char-boy.png",width:101,height:171,bound:{left:0,right:600,bottom:405},move:{vert:83,horiz:101}};var points="SCORE: %data%";var lives="LIVES: %data%";var highScore="HIGHSCORE: %data%";var canvasWidth=707;var canvasHeight=606;var Enemy=function(a,d){this.sprite="images/enemy-bug.png";GameObjects.call(this,a,d,this.sprite);var c=300;var b=150;this.speed=Math.floor(Math.random()*c+b)};Enemy.prototype.update=function(a){this.x+=this.speed*a;if(this.x>canvasWidth){this.reset()}this.checkCollision()};Enemy.prototype.render=function(b,c,a){ctx.drawImage(Resources.get(this.sprite),this.x,this.y)};Enemy.prototype.checkCollision=function(){if(player.x<this.x+(badGuys.width/2)&&player.x+(goodGuy.width/2)>this.x&&player.y<this.y+(badGuys.height/3)&&(goodGuy.height/4)+player.y>this.y){player.collision=true}};Enemy.prototype.reset=function(){this.x*=-1;this.speed=Math.floor(Math.random()*(300)+150)};GameObjects.prototype.render=function(){ctx.drawImage(Resources.get(this.imageInfo.imageInfo),this.x,this.y)};var Player=function(b,c,a){this.lives=3;this.points=0;this.level=0;this.collision=false;this.highScore=0;GameObjects.call(this,b,c,a)};Player.prototype=Object.create(GameObjects.prototype);Player.prototype.constructor=Player;Player.prototype.update=function(c){var b=points.replace("%data%",this.points);var e=lives.replace("%data%",this.lives);if(this.points>this.highScore){this.highScore=this.points}var d=highScore.replace("%data%",this.highScore);$("#score").html("");$("#score").html(b+" "+e+" "+d);if(this.collision===true){this.lives-=1;this.collision=false;if(this.lives<0){this.lives=3;this.points=0;this.level=0;allEnemies=[new Enemy(-100,65),new Enemy(-300,225),new Enemy(-50,310),new Enemy(-25,140)];setTimeout(player.reset(),3000*c)}else{setTimeout(player.reset(),3000*c)}}if(this.y==-10&&this.x==303){this.level+=1;this.points+=50;setTimeout(player.reset(),3000*c);var a=new Enemy(-100,Math.floor(Math.random()*264));allEnemies.push(a)}};Player.prototype.handleInput=function(a){switch(a){case"left":if(this.x>goodGuy.bound.left){this.x-=goodGuy.move.horiz}console.log("Left");console.log(this.x);console.log(this.y);break;case"up":if(this.y>goodGuy.bound.left){this.y-=goodGuy.move.vert}console.log("Up");console.log(this.x);console.log(this.y);break;case"right":if(this.x<goodGuy.bound.right){this.x+=goodGuy.move.horiz}console.log("Right");console.log(this.x);console.log(this.y);break;case"down":if(this.y<goodGuy.bound.bottom){this.y+=goodGuy.move.vert}console.log("Down");console.log(this.x);console.log(this.y);break}};Player.prototype.render=function(){ctx.drawImage(Resources.get(this.imageInfo.imageInfo),this.x,this.y)};Player.prototype.reset=function(){this.x=303;this.y=405};document.addEventListener("keyup",function(b){var a={37:"left",38:"up",39:"right",40:"down"};player.handleInput(a[b.keyCode])});var allEnemies=[new Enemy(-100,65),new Enemy(-300,225),new Enemy(-50,310),new Enemy(-25,140)];var player=new Player(303,405,goodGuy);var instr="Use the arrow keys to move, Up, Down, Left & Right. Avoid the Bugs and reach the star to earn points.";$("#instructions").append(instr);
